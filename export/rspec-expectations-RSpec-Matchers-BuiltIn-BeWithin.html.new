Class: RSpec::Matchers::BuiltIn::BeWithin
  
  
  PrivatePrivate
Class: RSpec::Matchers::BuiltIn::BeWithin
  
  
  Private


  
  
    Inherits:Inherits:
    
      BaseMatcherBaseMatcher
      
        
          ObjectObject
          
            BaseMatcherBaseMatcher
          
            RSpec::Matchers::BuiltIn::BeWithinRSpec::Matchers::BuiltIn::BeWithin
          
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::BeWithin
          
        
        show allshow all
      
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::BeWithin
          
        
        show all
      
    
  
    Inherits:
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::BeWithin
          
        
        show all
      
    
  
  

  
  
  
  
  

  

  
  
    Defined in:Defined in:
    lib/rspec/matchers/built_in/be_within.rblib/rspec/matchers/built_in/be_within.rb
  
    Defined in:
    lib/rspec/matchers/built_in/be_within.rb
  
  

  
  
    Inherits:
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::BeWithin
          
        
        show all
      
    
  
  

  
  
  
  
  

  

  
  
    Defined in:
    lib/rspec/matchers/built_in/be_within.rb
  
  


OverviewOverview
  
       This class is part of a private API.   You should avoid using this class if possible, as it may be removed or be changed in the future. .   This class is part of a private API.   You should avoid using this class if possible, as it may be removed or be changed in the future. .
Provides the implementation for be_within. Not intended to be instantiated directly.Provides the implementation for be_within. Not intended to be instantiated directly.


  
       This class is part of a private API.   You should avoid using this class if possible, as it may be removed or be changed in the future. .
Provides the implementation for be_within. Not intended to be instantiated directly.


  

  
       This class is part of a private API.   You should avoid using this class if possible, as it may be removed or be changed in the future. .
Provides the implementation for be_within. Not intended to be instantiated directly.


  


  


  




  Constant SummaryConstant Summary
  
  Constants inherited
     from BaseMatcherConstants inherited
     from BaseMatcher
  RSpec::Matchers::BuiltIn::BaseMatcher::UNDEFINEDRSpec::Matchers::BuiltIn::BaseMatcher::UNDEFINED





  
    
      Instance Method Summary
      
    
      Instance Method Summary
      
    

    
      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
    constructorconstructor
  
  
  
  
  
  privateprivate

  
    A new instance of BeWithin.A new instance of BeWithin.
A new instance of BeWithin.
A new instance of BeWithin.

  

  
  
  
    constructor
  
  
  
  
  
  private

  
    A new instance of BeWithin.

  


      
        
  
  
  
  
  
  
  
  

  
    Sets the expected value.Sets the expected value.
Sets the expected value.
Sets the expected value.

  

  
  
  
  
  
  
  
  

  
    Sets the expected value.

  


      
        
  
  
  
  
  
  
  
  

  
    Sets the expected value, and makes the matcher do a percent comparison.Sets the expected value, and makes the matcher do a percent comparison.
Sets the expected value, and makes the matcher do a percent comparison.
Sets the expected value, and makes the matcher do a percent comparison.

  

  
  
  
  
  
  
  
  

  
    Sets the expected value, and makes the matcher do a percent comparison.

  


      
    
      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
    constructor
  
  
  
  
  
  private

  
    A new instance of BeWithin.

  


      
        
  
  
  
  
  
  
  
  

  
    Sets the expected value.

  


      
        
  
  
  
  
  
  
  
  

  
    Sets the expected value, and makes the matcher do a percent comparison.

  


      
    
  


  
  
  
  
  
  
  
  
  Methods inherited from BaseMatcherMethods inherited from BaseMatcher
  #diffable?, #expects_call_stack_jump?, #match_unless_raises, #supports_block_expectations?#diffable?, #expects_call_stack_jump?, #match_unless_raises, #supports_block_expectations?

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  Methods included from ComposableMethods included from Composable
  #===, #and, #description_of, #or, should_enumerate?, surface_descriptions_in, unreadable_io?, #values_match?#===, #and, #description_of, #or, should_enumerate?, surface_descriptions_in, unreadable_io?, #values_match?

  Constructor DetailsConstructor Details
  
    
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .   This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .
Returns a new instance of BeWithin.Returns a new instance of BeWithin.


  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .
Returns a new instance of BeWithin.


  

  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .
Returns a new instance of BeWithin.


  


  


  


  
    
      


8
9
10


8
9
10
    
      


8
9
10
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 8# File 'lib/rspec/matchers/built_in/be_within.rb', line 8

defdef initializeinitialize((deltadelta))
  @delta@delta == deltadelta
endend# File 'lib/rspec/matchers/built_in/be_within.rb', line 8

def initialize(delta)
  @delta = delta
end
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 8

def initialize(delta)
  @delta = delta
end
    
  
    
      


8
9
10
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 8

def initialize(delta)
  @delta = delta
end
    
  

  
    
      


8
9
10
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 8

def initialize(delta)
  @delta = delta
end
    
  


  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .
Returns a new instance of BeWithin.


  


  


  
    
      


8
9
10
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 8

def initialize(delta)
  @delta = delta
end
    
  


  

  Constructor Details
  
    
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .
Returns a new instance of BeWithin.


  


  


  
    
      


8
9
10
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 8

def initialize(delta)
  @delta = delta
end
    
  


  



  
    Instance Method DetailsInstance Method Details

    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .   This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  

  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:Returns:

  
    
      
      
        (StringString)(String)
      
      
      
    
      
      
        (String)
      
      
      
    
  

  
    
      
      
        (String)
      
      
      
    
  



  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


52
53
54


52
53
54
    
      


52
53
54
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 52# File 'lib/rspec/matchers/built_in/be_within.rb', line 52

defdef descriptiondescription
  ""be within be within #{#{@delta@delta}}#{#{@unit@unit}} of  of #{#{@expected@expected}}"""be within #{@delta}#{@unit} of #{@expected}"
endend# File 'lib/rspec/matchers/built_in/be_within.rb', line 52

def description
  "be within #{@delta}#{@unit} of #{@expected}"
end
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 52

def description
  "be within #{@delta}#{@unit} of #{@expected}"
end
    
  
    
      


52
53
54
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 52

def description
  "be within #{@delta}#{@unit} of #{@expected}"
end
    
  

  
    
      


52
53
54
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 52

def description
  "be within #{@delta}#{@unit} of #{@expected}"
end
    
  


  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


52
53
54
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 52

def description
  "be within #{@delta}#{@unit} of #{@expected}"
end
    
  


    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .   This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  

  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:Returns:

  
    
      
      
        (StringString)(String)
      
      
      
    
      
      
        (String)
      
      
      
    
  

  
    
      
      
        (String)
      
      
      
    
  



  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


40
41
42


40
41
42
    
      


40
41
42
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 40# File 'lib/rspec/matchers/built_in/be_within.rb', line 40

defdef failure_messagefailure_message
  ""expected expected #{#{actual_formattedactual_formatted}} to  to #{#{descriptiondescription}}#{#{not_numeric_clausenot_numeric_clause}}"""expected #{actual_formatted} to #{description}#{not_numeric_clause}"
endend# File 'lib/rspec/matchers/built_in/be_within.rb', line 40

def failure_message
  "expected #{actual_formatted} to #{description}#{not_numeric_clause}"
end
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 40

def failure_message
  "expected #{actual_formatted} to #{description}#{not_numeric_clause}"
end
    
  
    
      


40
41
42
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 40

def failure_message
  "expected #{actual_formatted} to #{description}#{not_numeric_clause}"
end
    
  

  
    
      


40
41
42
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 40

def failure_message
  "expected #{actual_formatted} to #{description}#{not_numeric_clause}"
end
    
  


  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


40
41
42
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 40

def failure_message
  "expected #{actual_formatted} to #{description}#{not_numeric_clause}"
end
    
  


    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .   This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  

  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:Returns:

  
    
      
      
        (StringString)(String)
      
      
      
    
      
      
        (String)
      
      
      
    
  

  
    
      
      
        (String)
      
      
      
    
  



  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


46
47
48


46
47
48
    
      


46
47
48
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 46# File 'lib/rspec/matchers/built_in/be_within.rb', line 46

defdef failure_message_when_negatedfailure_message_when_negated
  ""expected expected #{#{actual_formattedactual_formatted}} not to  not to #{#{descriptiondescription}}"""expected #{actual_formatted} not to #{description}"
endend# File 'lib/rspec/matchers/built_in/be_within.rb', line 46

def failure_message_when_negated
  "expected #{actual_formatted} not to #{description}"
end
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 46

def failure_message_when_negated
  "expected #{actual_formatted} not to #{description}"
end
    
  
    
      


46
47
48
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 46

def failure_message_when_negated
  "expected #{actual_formatted} not to #{description}"
end
    
  

  
    
      


46
47
48
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 46

def failure_message_when_negated
  "expected #{actual_formatted} not to #{description}"
end
    
  


  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


46
47
48
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 46

def failure_message_when_negated
  "expected #{actual_formatted} not to #{description}"
end
    
  


    
      
  
  
    Sets the expected value.Sets the expected value.


  
    Sets the expected value.


  

  
    Sets the expected value.


  


  


  


  
    
      


14
15
16
17
18
19


14
15
16
17
18
19
    
      


14
15
16
17
18
19
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 14# File 'lib/rspec/matchers/built_in/be_within.rb', line 14

defdef ofof((expectedexpected))
  @expected@expected  == expectedexpected
  @tolerance@tolerance == @delta@delta
  @unit@unit      == ''''''
  selfself
endend# File 'lib/rspec/matchers/built_in/be_within.rb', line 14

def of(expected)
  @expected  = expected
  @tolerance = @delta
  @unit      = ''
  self
end
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 14

def of(expected)
  @expected  = expected
  @tolerance = @delta
  @unit      = ''
  self
end
    
  
    
      


14
15
16
17
18
19
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 14

def of(expected)
  @expected  = expected
  @tolerance = @delta
  @unit      = ''
  self
end
    
  

  
    
      


14
15
16
17
18
19
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 14

def of(expected)
  @expected  = expected
  @tolerance = @delta
  @unit      = ''
  self
end
    
  


  
  
    Sets the expected value.


  


  


  
    
      


14
15
16
17
18
19
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 14

def of(expected)
  @expected  = expected
  @tolerance = @delta
  @unit      = ''
  self
end
    
  


    
      
  
  
    Sets the expected value, and makes the matcher do a percent comparison.Sets the expected value, and makes the matcher do a percent comparison.


  
    Sets the expected value, and makes the matcher do a percent comparison.


  

  
    Sets the expected value, and makes the matcher do a percent comparison.


  


  


  


  
    
      


24
25
26
27
28
29


24
25
26
27
28
29
    
      


24
25
26
27
28
29
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 24# File 'lib/rspec/matchers/built_in/be_within.rb', line 24

defdef percent_ofpercent_of((expectedexpected))
  @expected@expected  == expectedexpected
  @tolerance@tolerance == @delta@delta ** @expected@expected..absabs // 100.0100.0
  @unit@unit      == ''%%'''%'
  selfself
endend# File 'lib/rspec/matchers/built_in/be_within.rb', line 24

def percent_of(expected)
  @expected  = expected
  @tolerance = @delta * @expected.abs / 100.0
  @unit      = '%'
  self
end
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 24

def percent_of(expected)
  @expected  = expected
  @tolerance = @delta * @expected.abs / 100.0
  @unit      = '%'
  self
end
    
  
    
      


24
25
26
27
28
29
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 24

def percent_of(expected)
  @expected  = expected
  @tolerance = @delta * @expected.abs / 100.0
  @unit      = '%'
  self
end
    
  

  
    
      


24
25
26
27
28
29
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 24

def percent_of(expected)
  @expected  = expected
  @tolerance = @delta * @expected.abs / 100.0
  @unit      = '%'
  self
end
    
  


  
  
    Sets the expected value, and makes the matcher do a percent comparison.


  


  


  
    
      


24
25
26
27
28
29
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 24

def percent_of(expected)
  @expected  = expected
  @tolerance = @delta * @expected.abs / 100.0
  @unit      = '%'
  self
end
    
  


    
  
    Instance Method Details

    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


52
53
54
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 52

def description
  "be within #{@delta}#{@unit} of #{@expected}"
end
    
  


    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


40
41
42
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 40

def failure_message
  "expected #{actual_formatted} to #{description}#{not_numeric_clause}"
end
    
  


    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


46
47
48
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 46

def failure_message_when_negated
  "expected #{actual_formatted} not to #{description}"
end
    
  


    
      
  
  
    Sets the expected value.


  


  


  
    
      


14
15
16
17
18
19
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 14

def of(expected)
  @expected  = expected
  @tolerance = @delta
  @unit      = ''
  self
end
    
  


    
      
  
  
    Sets the expected value, and makes the matcher do a percent comparison.


  


  


  
    
      


24
25
26
27
28
29
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 24

def percent_of(expected)
  @expected  = expected
  @tolerance = @delta * @expected.abs / 100.0
  @unit      = '%'
  self
end
    
  


    
  

Class: RSpec::Matchers::BuiltIn::BeWithin
  
  
  Private


  
  
    Inherits:
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::BeWithin
          
        
        show all
      
    
  
  

  
  
  
  
  

  

  
  
    Defined in:
    lib/rspec/matchers/built_in/be_within.rb
  
  


Overview
  
       This class is part of a private API.   You should avoid using this class if possible, as it may be removed or be changed in the future. .
Provides the implementation for be_within. Not intended to be instantiated directly.


  


  




  Constant Summary
  
  Constants inherited
     from BaseMatcher
  RSpec::Matchers::BuiltIn::BaseMatcher::UNDEFINED





  
    
      Instance Method Summary
      
    

    
      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
    constructor
  
  
  
  
  
  private

  
    A new instance of BeWithin.

  


      
        
  
  
  
  
  
  
  
  

  
    Sets the expected value.

  


      
        
  
  
  
  
  
  
  
  

  
    Sets the expected value, and makes the matcher do a percent comparison.

  


      
    
  


  
  
  
  
  
  
  
  
  Methods inherited from BaseMatcher
  #diffable?, #expects_call_stack_jump?, #match_unless_raises, #supports_block_expectations?

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  Methods included from Composable
  #===, #and, #description_of, #or, should_enumerate?, surface_descriptions_in, unreadable_io?, #values_match?

  Constructor Details
  
    
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .
Returns a new instance of BeWithin.


  


  


  
    
      


8
9
10
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 8

def initialize(delta)
  @delta = delta
end
    
  


  



  
    Instance Method Details

    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


52
53
54
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 52

def description
  "be within #{@delta}#{@unit} of #{@expected}"
end
    
  


    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


40
41
42
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 40

def failure_message
  "expected #{actual_formatted} to #{description}#{not_numeric_clause}"
end
    
  


    
      
  
  
       This method is part of a private API.   You should avoid using this method if possible, as it may be removed or be changed in the future. .


  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


46
47
48
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 46

def failure_message_when_negated
  "expected #{actual_formatted} not to #{description}"
end
    
  


    
      
  
  
    Sets the expected value.


  


  


  
    
      


14
15
16
17
18
19
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 14

def of(expected)
  @expected  = expected
  @tolerance = @delta
  @unit      = ''
  self
end
    
  


    
      
  
  
    Sets the expected value, and makes the matcher do a percent comparison.


  


  


  
    
      


24
25
26
27
28
29
    
    
      # File 'lib/rspec/matchers/built_in/be_within.rb', line 24

def percent_of(expected)
  @expected  = expected
  @tolerance = @delta * @expected.abs / 100.0
  @unit      = '%'
  self
end
    
  


    
  

