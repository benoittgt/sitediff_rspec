Class: RSpec::Matchers::BuiltIn::HaveAttributes
  
  
  PrivatePrivate
Class: RSpec::Matchers::BuiltIn::HaveAttributes
  
  
  Private


  
  
    Inherits:Inherits:
    
      BaseMatcherBaseMatcher
      
        
          ObjectObject
          
            BaseMatcherBaseMatcher
          
            RSpec::Matchers::BuiltIn::HaveAttributesRSpec::Matchers::BuiltIn::HaveAttributes
          
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::HaveAttributes
          
        
        show allshow all
      
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::HaveAttributes
          
        
        show all
      
    
  
    Inherits:
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::HaveAttributes
          
        
        show all
      
    
  
  

  
  
  
  
  

  

  
  
    Defined in:Defined in:
    lib/rspec/matchers/built_in/have_attributes.rblib/rspec/matchers/built_in/have_attributes.rb
  
    Defined in:
    lib/rspec/matchers/built_in/have_attributes.rb
  
  

  
  
    Inherits:
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::HaveAttributes
          
        
        show all
      
    
  
  

  
  
  
  
  

  

  
  
    Defined in:
    lib/rspec/matchers/built_in/have_attributes.rb
  
  


OverviewOverview
  
    
  This class is part of a private API.This class is part of a private API.
  You should avoid using this class if possible, as it may be removed or be changed in the future.

  This class is part of a private API.
  You should avoid using this class if possible, as it may be removed or be changed in the future.

Provides the implementation for have_attributeshave_attributes.
Not intended to be instantiated directly.Provides the implementation for have_attributes.
Not intended to be instantiated directly.


  
    
  This class is part of a private API.
  You should avoid using this class if possible, as it may be removed or be changed in the future.

Provides the implementation for have_attributes.
Not intended to be instantiated directly.


  

  
    
  This class is part of a private API.
  You should avoid using this class if possible, as it may be removed or be changed in the future.

Provides the implementation for have_attributes.
Not intended to be instantiated directly.


  


  


  




  Constant SummaryConstant Summary
  
  Constants inherited
     from BaseMatcherConstants inherited
     from BaseMatcher
  BaseMatcher::UNDEFINEDBaseMatcher::UNDEFINED





  
    
      Instance Method Summary
      
    
      Instance Method Summary
      
    

    
      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
    constructorconstructor
  
  
  
  
  
  privateprivate

  
    A new instance of HaveAttributes.A new instance of HaveAttributes.
A new instance of HaveAttributes.
A new instance of HaveAttributes.

  

  
  
  
    constructor
  
  
  
  
  
  private

  
    A new instance of HaveAttributes.

  


      
        
  
  
  
  
  
  
  
  privateprivate

  
    
  

  
  
  
  
  
  
  
  private

  
    
  


      
    
      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
    constructor
  
  
  
  
  
  private

  
    A new instance of HaveAttributes.

  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
    
  


  
  
  
  
  
  
  
  
  Methods inherited from BaseMatcherMethods inherited from BaseMatcher
  #expects_call_stack_jump?, #match_unless_raises, #supports_block_expectations?#expects_call_stack_jump?, #match_unless_raises, #supports_block_expectations?

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  Methods included from ComposableMethods included from Composable
  #===, #and, #description_of, #or, should_enumerate?, surface_descriptions_in, unreadable_io?, #values_match?#===, #and, #description_of, #or, should_enumerate?, surface_descriptions_in, unreadable_io?, #values_match?

  Constructor DetailsConstructor Details
  
    
  
  
    
  This method is part of a private API.This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

Returns a new instance of HaveAttributes.Returns a new instance of HaveAttributes.


  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

Returns a new instance of HaveAttributes.


  

  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

Returns a new instance of HaveAttributes.


  


  


  


  
    
      


11
12
13
14
15
16


11
12
13
14
15
16
    
      


11
12
13
14
15
16
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

defdef initializeinitialize((expectedexpected))
  @expected@expected == expectedexpected
  @values@values == {{}}
  @respond_to_failed@respond_to_failed == falsefalse
  @negated@negated == falsefalse
endend# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

def initialize(expected)
  @expected = expected
  @values = {}
  @respond_to_failed = false
  @negated = false
end
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

def initialize(expected)
  @expected = expected
  @values = {}
  @respond_to_failed = false
  @negated = false
end
    
  
    
      


11
12
13
14
15
16
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

def initialize(expected)
  @expected = expected
  @values = {}
  @respond_to_failed = false
  @negated = false
end
    
  

  
    
      


11
12
13
14
15
16
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

def initialize(expected)
  @expected = expected
  @values = {}
  @respond_to_failed = false
  @negated = false
end
    
  


  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

Returns a new instance of HaveAttributes.


  


  


  
    
      


11
12
13
14
15
16
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

def initialize(expected)
  @expected = expected
  @values = {}
  @respond_to_failed = false
  @negated = false
end
    
  


  

  Constructor Details
  
    
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

Returns a new instance of HaveAttributes.


  


  


  
    
      


11
12
13
14
15
16
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

def initialize(expected)
  @expected = expected
  @values = {}
  @respond_to_failed = false
  @negated = false
end
    
  


  



  
    Instance Method DetailsInstance Method Details

    
      
  
  
    
  This method is part of a private API.This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  

  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:Returns:

  
    
      
      
        (StringString)(String)
      
      
      
    
      
      
        (String)
      
      
      
    
  

  
    
      
      
        (String)
      
      
      
    
  



  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


43
44
45
46


43
44
45
46
    
      


43
44
45
46
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

defdef descriptiondescription
  described_itemsdescribed_items == surface_descriptions_insurface_descriptions_in((expectedexpected))
  improve_hash_formattingimprove_hash_formatting ""have attributes have attributes #{#{RSpecRSpec::::SupportSupport::::ObjectFormatterObjectFormatter..formatformat((described_itemsdescribed_items))}}"""have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
endend# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

def description
  described_items = surface_descriptions_in(expected)
  improve_hash_formatting "have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
end
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

def description
  described_items = surface_descriptions_in(expected)
  improve_hash_formatting "have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
end
    
  
    
      


43
44
45
46
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

def description
  described_items = surface_descriptions_in(expected)
  improve_hash_formatting "have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
end
    
  

  
    
      


43
44
45
46
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

def description
  described_items = surface_descriptions_in(expected)
  improve_hash_formatting "have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
end
    
  


  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


43
44
45
46
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

def description
  described_items = surface_descriptions_in(expected)
  improve_hash_formatting "have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
end
    
  


    
      
  
  
    
  This method is part of a private API.This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  

  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:Returns:

  
    
      
      
        (BooleanBoolean)(Boolean)
      
      
      
    
      
      
        (Boolean)
      
      
      
    
  

  
    
      
      
        (Boolean)
      
      
      
    
  



  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


50
51
52


50
51
52
    
      


50
51
52
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

defdef diffable?diffable?
  !!@respond_to_failed@respond_to_failed &&&& !!@negated@negated
endend# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

def diffable?
  !@respond_to_failed && !@negated
end
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

def diffable?
  !@respond_to_failed && !@negated
end
    
  
    
      


50
51
52
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

def diffable?
  !@respond_to_failed && !@negated
end
    
  

  
    
      


50
51
52
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

def diffable?
  !@respond_to_failed && !@negated
end
    
  


  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


50
51
52
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

def diffable?
  !@respond_to_failed && !@negated
end
    
  


    
      
  
  
    
  This method is part of a private API.This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  

  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:Returns:

  
    
      
      
        (BooleanBoolean)(Boolean)
      
      
      
    
      
      
        (Boolean)
      
      
      
    
  

  
    
      
      
        (Boolean)
      
      
      
    
  



  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


34
35
36
37
38
39


34
35
36
37
38
39
    
      


34
35
36
37
38
39
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

defdef does_not_match?does_not_match?((actualactual))
  @actual@actual == actualactual
  @negated@negated == truetrue
  returnreturn falsefalse unlessunless respond_to_attributes?respond_to_attributes?
  perform_matchperform_match((:none?:none?))
endend# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

def does_not_match?(actual)
  @actual = actual
  @negated = true
  return false unless respond_to_attributes?
  perform_match(:none?)
end
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

def does_not_match?(actual)
  @actual = actual
  @negated = true
  return false unless respond_to_attributes?
  perform_match(:none?)
end
    
  
    
      


34
35
36
37
38
39
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

def does_not_match?(actual)
  @actual = actual
  @negated = true
  return false unless respond_to_attributes?
  perform_match(:none?)
end
    
  

  
    
      


34
35
36
37
38
39
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

def does_not_match?(actual)
  @actual = actual
  @negated = true
  return false unless respond_to_attributes?
  perform_match(:none?)
end
    
  


  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


34
35
36
37
38
39
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

def does_not_match?(actual)
  @actual = actual
  @negated = true
  return false unless respond_to_attributes?
  perform_match(:none?)
end
    
  


    
      
  
  
    
  This method is part of a private API.This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  

  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:Returns:

  
    
      
      
        (StringString)(String)
      
      
      
    
      
      
        (String)
      
      
      
    
  

  
    
      
      
        (String)
      
      
      
    
  



  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


56
57
58
59
60


56
57
58
59
60
    
      


56
57
58
59
60
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

defdef failure_messagefailure_message
  respond_to_failure_message_orrespond_to_failure_message_or dodo
    ""expected expected #{#{actual_formattedactual_formatted}} to  to #{#{descriptiondescription}} but had attributes  but had attributes #{#{ formatted_valuesformatted_values }}"""expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  endend
endend# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

def failure_message
  respond_to_failure_message_or do
    "expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  end
end
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

def failure_message
  respond_to_failure_message_or do
    "expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  end
end
    
  
    
      


56
57
58
59
60
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

def failure_message
  respond_to_failure_message_or do
    "expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  end
end
    
  

  
    
      


56
57
58
59
60
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

def failure_message
  respond_to_failure_message_or do
    "expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  end
end
    
  


  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


56
57
58
59
60
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

def failure_message
  respond_to_failure_message_or do
    "expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  end
end
    
  


    
      
  
  
    
  This method is part of a private API.This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  

  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:Returns:

  
    
      
      
        (StringString)(String)
      
      
      
    
      
      
        (String)
      
      
      
    
  

  
    
      
      
        (String)
      
      
      
    
  



  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


64
65
66


64
65
66
    
      


64
65
66
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

defdef failure_message_when_negatedfailure_message_when_negated
  respond_to_failure_message_orrespond_to_failure_message_or {{ ""expected expected #{#{actual_formattedactual_formatted}} not to  not to #{#{descriptiondescription}}"""expected #{actual_formatted} not to #{description}" }}
endend# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

def failure_message_when_negated
  respond_to_failure_message_or { "expected #{actual_formatted} not to #{description}" }
end
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

def failure_message_when_negated
  respond_to_failure_message_or { "expected #{actual_formatted} not to #{description}" }
end
    
  
    
      


64
65
66
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

def failure_message_when_negated
  respond_to_failure_message_or { "expected #{actual_formatted} not to #{description}" }
end
    
  

  
    
      


64
65
66
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

def failure_message_when_negated
  respond_to_failure_message_or { "expected #{actual_formatted} not to #{description}" }
end
    
  


  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


64
65
66
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

def failure_message_when_negated
  respond_to_failure_message_or { "expected #{actual_formatted} not to #{description}" }
end
    
  


    
      
  
  
    
  This method is part of a private API.This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  

  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:Returns:

  
    
      
      
        (BooleanBoolean)(Boolean)
      
      
      
    
      
      
        (Boolean)
      
      
      
    
  

  
    
      
      
        (Boolean)
      
      
      
    
  



  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


25
26
27
28
29
30


25
26
27
28
29
30
    
      


25
26
27
28
29
30
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

defdef matches?matches?((actualactual))
  @actual@actual == actualactual
  @negated@negated == falsefalse
  returnreturn falsefalse unlessunless respond_to_attributes?respond_to_attributes?
  perform_matchperform_match((:all?:all?))
endend# File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

def matches?(actual)
  @actual = actual
  @negated = false
  return false unless respond_to_attributes?
  perform_match(:all?)
end
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

def matches?(actual)
  @actual = actual
  @negated = false
  return false unless respond_to_attributes?
  perform_match(:all?)
end
    
  
    
      


25
26
27
28
29
30
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

def matches?(actual)
  @actual = actual
  @negated = false
  return false unless respond_to_attributes?
  perform_match(:all?)
end
    
  

  
    
      


25
26
27
28
29
30
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

def matches?(actual)
  @actual = actual
  @negated = false
  return false unless respond_to_attributes?
  perform_match(:all?)
end
    
  


  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


25
26
27
28
29
30
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

def matches?(actual)
  @actual = actual
  @negated = false
  return false unless respond_to_attributes?
  perform_match(:all?)
end
    
  


    
  
    Instance Method Details

    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


43
44
45
46
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

def description
  described_items = surface_descriptions_in(expected)
  improve_hash_formatting "have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


50
51
52
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

def diffable?
  !@respond_to_failed && !@negated
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


34
35
36
37
38
39
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

def does_not_match?(actual)
  @actual = actual
  @negated = true
  return false unless respond_to_attributes?
  perform_match(:none?)
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


56
57
58
59
60
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

def failure_message
  respond_to_failure_message_or do
    "expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  end
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


64
65
66
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

def failure_message_when_negated
  respond_to_failure_message_or { "expected #{actual_formatted} not to #{description}" }
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


25
26
27
28
29
30
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

def matches?(actual)
  @actual = actual
  @negated = false
  return false unless respond_to_attributes?
  perform_match(:all?)
end
    
  


    
  

Class: RSpec::Matchers::BuiltIn::HaveAttributes
  
  
  Private


  
  
    Inherits:
    
      BaseMatcher
      
        
          Object
          
            BaseMatcher
          
            RSpec::Matchers::BuiltIn::HaveAttributes
          
        
        show all
      
    
  
  

  
  
  
  
  

  

  
  
    Defined in:
    lib/rspec/matchers/built_in/have_attributes.rb
  
  


Overview
  
    
  This class is part of a private API.
  You should avoid using this class if possible, as it may be removed or be changed in the future.

Provides the implementation for have_attributes.
Not intended to be instantiated directly.


  


  




  Constant Summary
  
  Constants inherited
     from BaseMatcher
  BaseMatcher::UNDEFINED





  
    
      Instance Method Summary
      
    

    
      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
        
  
  
  
    constructor
  
  
  
  
  
  private

  
    A new instance of HaveAttributes.

  


      
        
  
  
  
  
  
  
  
  private

  
    
  


      
    
  


  
  
  
  
  
  
  
  
  Methods inherited from BaseMatcher
  #expects_call_stack_jump?, #match_unless_raises, #supports_block_expectations?

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  Methods included from Composable
  #===, #and, #description_of, #or, should_enumerate?, surface_descriptions_in, unreadable_io?, #values_match?

  Constructor Details
  
    
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.

Returns a new instance of HaveAttributes.


  


  


  
    
      


11
12
13
14
15
16
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 11

def initialize(expected)
  @expected = expected
  @values = {}
  @respond_to_failed = false
  @negated = false
end
    
  


  



  
    Instance Method Details

    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


43
44
45
46
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 43

def description
  described_items = surface_descriptions_in(expected)
  improve_hash_formatting "have attributes #{RSpec::Support::ObjectFormatter.format(described_items)}"
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


50
51
52
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 50

def diffable?
  !@respond_to_failed && !@negated
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


34
35
36
37
38
39
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 34

def does_not_match?(actual)
  @actual = actual
  @negated = true
  return false unless respond_to_attributes?
  perform_match(:none?)
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


56
57
58
59
60
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 56

def failure_message
  respond_to_failure_message_or do
    "expected #{actual_formatted} to #{description} but had attributes #{ formatted_values }"
  end
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (String)
      
      
      
    
  



  
    
      


64
65
66
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 64

def failure_message_when_negated
  respond_to_failure_message_or { "expected #{actual_formatted} not to #{description}" }
end
    
  


    
      
  
  
    
  This method is part of a private API.
  You should avoid using this method if possible, as it may be removed or be changed in the future.



  


  
Returns:

  
    
      
      
        (Boolean)
      
      
      
    
  



  
    
      


25
26
27
28
29
30
    
    
      # File 'lib/rspec/matchers/built_in/have_attributes.rb', line 25

def matches?(actual)
  @actual = actual
  @negated = false
  return false unless respond_to_attributes?
  perform_match(:all?)
end
    
  


    
  

